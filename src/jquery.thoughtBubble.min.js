(function(e){e.fn.thoughtBubble=function(t){var n=e.extend({backgroundColor:"white",fontColor:"black",width:"330px",height:"210px",fontSize:"15px",bubbleColor:"white"},t),r,i,s=function(e){var t=e.offset(),r=t.top-parseInt(n.height),i='"position: absolute; top:'+r+"px; left:"+t.left+"px ; width:"+n.width+"; height:"+n.height+';"',s="<div class='bubble-holder' style="+i+">"+o()+a()+"</div>";return s},o=function(){return'<div class="main-bubble-holder"><div class="bubble main-bubble">'+u()+"</div></div>"},u=function(){return'<span style="vertical-align: middle; color: '+n.fontColor+";font-size: "+n.fontSize+"; font-family: "+n.font+'">'+n.text+"</span>"},a=function(){return'<div class="sm-bubble-holder"><div class="bubble bubbleLg"></div><div class="bubble bubbleMd"></div><div class="bubble bubbleSm"></div></div>'},f=function(t){clearTimeout(r);var n=e(document).find(".bubble"),i=n.get().reverse(),s=0;r=setTimeout(function(){e.each(i,function(t,n){setTimeout(function(){e(n).stop().animate({opacity:1})},s);s+=100})},100)},l=function(){var t=e(document).find(".bubble");t.stop().animate({opacity:0})},c=function(t){var n=e(document).find(".bubble-holder"),r=t.offset().left;n.css("left",r)};return this.each(function(){var t=e(this),n=s(t);t.on("mouseenter",f);t.on("mouseout",l);e(window).on("resize",function(){c(t)});return t.parent().prepend(n)})}})(jQuery)